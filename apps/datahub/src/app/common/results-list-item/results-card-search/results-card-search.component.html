<a
  [tabIndex]="0"
  (click)="mdSelect.emit(record)"
  (keyup.enter)="mdSelect.emit(record)"
  class="mel-card gap-[16px] h-[270px] p-4 w-[410px]"
>
  <div class="flex flex-col h-[72px] justify-between shrink-0">
    <h1 class="font-extrabold text-[17px] line-clamp-2 leading-5">
      {{ record.title }}
    </h1>

    <div class="flex flex-col justify-between">
      @if(record.keywords?.length) {
      <div class="flex gap-1">
        @for(keyword of record.keywords.slice(0, 2); track
        record?.uniqueIdentifier){<button
          type="button"
          [attr.aria-label]="keyword"
          [title]="keyword"
          class="mel-badge-button truncate"
          (click)="onKeywordClick(keyword, $event)"
          (keyup.enter)="$event.stopPropagation()"
        >
          {{ keyword }}</button
        >}
      </div>
      }
    </div>
  </div>
  <div class="flex flex-col justify-between grow">
    <div class="line-clamp-3 text-[15px] text-gray-2">
      {{ record.abstract }}
    </div>

    <div class="flex flex-col text-gray-1 gap-[3px] w-9/12">
      <div class="text-[12px] font-semibold">
        <span
          class="line-clamp-1 text-ellipsis"
          [title]="'This is a Localisation'"
          >{{ 'mel.record.metadata.localisation' | translate }} : This is a
          Localisation</span
        >
      </div>

      <div class="text-[12px] font-semibold">
        <span
          class="line-clamp-1 text-ellipsis"
          [title]="shownOrganization.name"
          >{{ 'mel.record.metadata.producteur' | translate }} :
          {{ shownOrganization.name }}</span
        >
      </div>
      <div class="flex gap-1 font-semibold">
        <div class="text-[12px] font-semibold">
          <span>{{ 'mel.record.metadata.quality' | translate }} : </span>
        </div>
        <div class="flex grow justify-between relative items-center">
          <mel-datahub-mel-datahub-metadata-quality
            [metadata]="record"
            [metadataQualityDisplay]="true"
            [smaller]="true"
          ></mel-datahub-mel-datahub-metadata-quality>
          <mel-datahub-favorite-heart
            [record]="record"
            class="relative shrink lg:absolute -right-[92px] bottom-[4px]"
            buttonClass="mel-secondary-button"
            imageClass="smaller-icon"
          ></mel-datahub-favorite-heart>
        </div>
      </div>
    </div>
  </div>
</a>
