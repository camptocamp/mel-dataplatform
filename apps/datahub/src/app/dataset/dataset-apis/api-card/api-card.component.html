<div
  [title]="link.name"
  [ngClass]="{
    'cursor-pointer': displayApiFormButton,
    'bg-gray-7': currentlyActive
  }"
  (click)="openRecordApiFormPanel()"
  class="mel-card w-[330px] group relative h-40 p-4 overflow-hidden"
>
  <h1 class="font-bold text-[17px] line-clamp-2">
    {{ link.name || link.description }}
  </h1>

  <div class="flex flex-row justify-between">
    <span
      class="mel-badge-button-primary card-icon uppercase"
      [ngClass]="{
        'text-primary-dark opacity-100': currentlyActive
      }"
    >
      {{ link.accessServiceProtocol }}
    </span>
    <gn-ui-copy-text-button
      *ngIf="!displayApiFormButton"
      [text]="link.url.toString()"
      [tooltipText]="'tooltip.url.copy' | translate"
      [displayText]="false"
    ></gn-ui-copy-text-button>
    <button
      *ngIf="displayApiFormButton"
      type="button"
      [ngClass]="{
        'h-6 focus:bg-text-primary-dark': displayApiFormButton
      }"
      mat-raised-button
      [matTooltip]="
        !currentlyActive
          ? ('record.metadata.api.form.openForm' | translate)
          : ('record.metadata.api.form.closeForm' | translate)
      "
      matTooltipPosition="above"
    >
      <mat-icon
        class="material-symbols-outlined pointer-events-none align-top card-icon"
        [ngClass]="{
          'text-primary-dark opacity-100': currentlyActive
        }"
        >more_horiz</mat-icon
      >
    </button>
  </div>
</div>
