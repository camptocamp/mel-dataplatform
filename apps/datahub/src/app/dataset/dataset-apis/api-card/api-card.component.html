<div
  [title]="link.name"
  [ngClass]="{
    'bg-gray-7': currentlyActive
  }"
  class="mel-card w-[330px] group relative h-40 p-4 overflow-hidden cursor-default"
>
  <h1 class="font-bold text-[17px] line-clamp-2">
    {{ link.name || link.description }}
  </h1>

  <div class="flex flex-row justify-between">
    <span
      class="mel-badge-button-primary card-label uppercase"
      [ngClass]="{
        'text-white border-white bg-primary-dark opacity-100': currentlyActive
      }"
    >
      {{ link.accessServiceProtocol }}
    </span>
    <div class="flex flex-row gap-2 items-center">
      <gn-ui-copy-text-button
        [text]="link.url.toString()"
        [tooltipText]="'mel.tooltip.url.copy' | translate"
        [displayText]="false"
      ></gn-ui-copy-text-button>
      @if(displayApiFormButton){
      <button
        type="button"
        [ngClass]="{
          'h-6 focus:bg-text-primary-dark': displayApiFormButton
        }"
        (click)="openRecordApiFormPanel()"
        mat-raised-button
        [matTooltip]="
          !currentlyActive
            ? ('mel.record.metadata.api.form.openForm' | translate)
            : ('mel.record.metadata.api.form.closeForm' | translate)
        "
        matTooltipPosition="above"
      >
        <mat-icon
          class="material-symbols-outlined pointer-events-none align-middle card-icon"
          [ngClass]="{
            'text-primary-dark opacity-100': currentlyActive
          }"
          >more_horiz</mat-icon
        >
      </button>
      }
    </div>
  </div>
</div>
